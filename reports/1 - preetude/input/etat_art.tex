\section{Arbres d'attaque et de défense}
	\label{sec:etat_art}

    \subsection{Méthodologie}
        Le concept des arbres d'attaque a été introduit en 1999 par Bruce Schneier, un expert américain en sécurité informatique qui est parti du constat que des systèmes réputés \og inviolables \fg se font briser en permanence \cite{doc_Schneier}. De plus, ces systèmes sont brisés par des méthodes d'accès qui n'avaient pas été imaginées par leurs concepteurs, car ils n'avaient pas les outils pour dresser une liste exhaustive des attaques possibles. Schneier a donc créé le concept des arbres d'attaque dans ce but : pouvoir réaliser un inventaire complet des méthodes d'attaque sur un système, quel qu'il soit, afin de pouvoir en concevoir la défense de la manière la plus adaptée. Schneier a lui-même conçu son modèle d'arbre d'attaque à partir du principe des \og arbres de défaillances \fg, une méthodologie datant du début des années soixante dont le but est de pouvoir évaluer l'impact de la défaillance d'un composant sur son système \cite{defaillanceTree}.

        Lors de ses recherches, Schneier a retenu une représentation des menaces sous la forme d'arbres, expliquée par la Figure \ref{fig:arbre_exemple_1}. Ces arbres modélisent les pré-requis nécessaires à la réalisation de l'objectif principal (dans notre exemple, accéder au compte en banque d'une personne). Pour cela, on représente d'abord ce dernier à la racine de l'arbre, puis on le décompose en objectifs intermédiaires, appelés \og nœuds \fg. Ces derniers sont ensuite re-décomposés de la même façon en répétant l'opération autant que nécessaire. Le dernier objectif de la décomposition est appelé \og feuille \fg. Les (sous-)objectifs de l'attaque (les noeuds) sont par convention représentés dans l'arbre par des ovales reliés entre eux par des traits. 

        La relation entre les fils d'un nœud peut prendre deux formes distinctes :
        \begin{itemize}
            \item la {\bf disjonction}, qui correspond au cas où la validation d'un seul nœud fils suffit à valider le nœud père. Ceci équivaut à l'opération logique \og OU \fg{}, et est représenté par des traits pleins. Dans notre exemple, accéder au compte en banque de quelqu'un peut se faire soit par un distributeur de billets (DAB), soit par Internet.
            
            \item la {\bf conjonction}, qui correspond au cas où la validation de l'ensemble des nœuds fils est nécessaire pour valider le nœud père. Ceci équivaut à l'opération logique \og ET \fg{}, et est représentée par un arc reliant les liaisons parent-enfants. Par exemple, pour accéder au distributeur de billets d'une personne quelconque, il faut à la fois obtenir sa carte et son code PIN.
        \end{itemize} 
	
		\begin{figure}[h]
	        \centering
	        \includegraphics[width=1\textwidth]{figure/exemple1_rapport.pdf}
	        \caption{Arbre d'attaque}
	        \label{fig:arbre_exemple_1}
        \end{figure}

	\paragraph{}

        Une extension du formalisme de Schneier stipule également que si des noeuds enfants doivent être validés dans un ordre précis pour valider le noeud parent, ils seront disposés selon un ordre gauche droite : par exemple, on pourrait considérer que le noeud "obtenir mot de passe" doit être validé avant celui "obtenir login". L'on fait ensuite découler de ces objectifs intermédiaires d'autres objectifs les validant et ainsi de suite, jusqu'à avoir les actions de base aux feuilles de l'arbre (en bas). Ensuite, il suffit de descendre dans l'arbre à partir d'un nœud pour savoir quelles sont les combinaisons d'actions possibles à effectuer pour valider le nœud.

        Enfin, le modèle des arbres d'attaque permet d'associer aux feuilles des valeurs représentant des informations quantitatives ou qualitatives sur l'action : coût, difficulté, probabilité, temps d'exécution, etc. Ces valeurs permettent de quantifier le poids du nœud dans l'arbre. Il est alors possible, à partir de ces données et en utilisant les fonctions appropriées, de propager les valeurs au nœud père. Ceci permet à l'attaquant de choisir une stratégie d'attaque plutôt qu'une autre au vu de ses ressources. La Figure \ref{fig:arbre_exemple_2} illustre le coût monétaire pour l'attaquant. On remarque dans ce cas précis que le coût d'un nœud disjonctif est le coût minimal de ses fils, tandis que le coût d'un nœud conjonctif en est la somme. Chaque quantification a un mode de calcul propre vis-à-vis du types de nœuds (disjonctif ou conjonctif). Il est également possible de combiner plusieurs valuations pour en produire de nouvelles. Par exemple, on peut obtenir la valuation \og risque \fg{}  en multipliant pour l'attaque sa \og probabilité de succès\fg{} par son \og impact\fg{}.

        \begin{figure}[h]
	        \centering
	        \includegraphics[width=1\textwidth]{figure/quantification.pdf}
	        \caption{Quantification du coût de l'attaque}
	        \label{fig:arbre_exemple_2}
        \end{figure}

		Depuis 1999, le concept des arbres d'attaque a évolué grâce à la contribution de personnes ayant étendu et amélioré le modèle de Schneier \cite{ADTreeKordy}. En particulier, le concept d'arbre d'attaque a été étendu à celui d’arbre d’attaque et de défense (\og attack–defense tree \fg{} en anglais, ou \og ADTree \fg{}). Les ADTrees représentent non seulement les (sous-)objectifs de l'attaquant mais aussi les défenses mises en place et que l'attaquant aura besoin de désactiver pour atteindre son but \cite{ADTreeOxford}. Par convention, les défenses sont représentées par des rectangles. La Figure \ref{fig:arbre_exemple_3} représente un ADTree qui étend l'arbre d'attaque précédent avec des défenses.

        \begin{figure}[h]
	        \centering
	        \includegraphics[width=1\textwidth]{figure/exemple2_rapport.pdf}
	        \caption{Arbre d'attaque et de défense}
	        \label{fig:arbre_exemple_3}
        \end{figure}

	\subsection{Implémentations des ADTree}
		Plusieurs logiciels implémentant le concept des arbres d'attaque ou des ADTree ont été développés. Quelques-uns sont listés ci-dessous.
        
        Logiciels propriétaires :
        \begin{itemize}
	        \item SecurlTree : Logiciel de création et d'analyse d'arbres d'attaque développé par la société Amenaza \cite{SecurlTree}.
	        \item ATTACKTREE+ : Logiciel de création et d'analyse d'arbres d'attaque développé par la société Isograph \cite{ATTACKTREE+}.
        \end{itemize}
        
        Logiciel Open-Source :
        \begin{itemize}
        	\item ADTool: Logiciel développé par une équipe de chercheur de l'université du Luxembourg pour la modélisation d'ADTrees. Il s'agit d'un des logiciels que nous allons utiliser (plus de détails dans la Section \ref{sec:outils}) \cite{ADTool}.
        \end{itemize}

        \subsubsection{Synthèse}
            Aujourd'hui, les arbres d'attaque sont utilisés par de nombreuses entreprises. Les ADTree présentent l'avantage de pouvoir partir du point de vue de l'attaquant et donc de concentrer les efforts de défenses là où ils seront les plus utiles. Cela dit, un grand nombre de ces entreprises développent en interne leur propre logiciel de construction et d'analyse des ADTree sans toutefois utiliser ceux présents sur le marché. En effet, les solutions logicielles sont rares et ne bénéficient pas d'une grande visibilité, peuvent être chères et ne sont pas forcément faciles à mettre en place. De plus, si il existe tout de même un certain nombre de logiciels implémentant les arbres d'attaques simples, les logiciels implémentant les ADTree sont quant-à eux assez réduits en comparaison. Nous avons pu en identifier un seul : ADTool. 

            Ceci étant, le développement peut être laborieux même en utilisant un logiciel dédié comme ADTool pour plusieurs raisons : le logiciel n’intègre pas d'arbres génériques ce qui rallonge le développement et oblige de modéliser plusieurs fois la même partie d'arbre, ne permet pas de gérer la quantification de manière dynamique selon qui est l'attaquant, etc. Ces limitations seront décrites plus en profondeurs dans la partie suivante.

            Un grand nombre d'améliorations sont donc possibles : ce qui nous amène au cahier des charges.
